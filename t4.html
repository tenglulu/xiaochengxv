<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./jquery-3.4.1.js"></script>
    <style>
       
    </style>
</head>

<body>
  
  
    <script>
        
       function listenScroll() {
      let ele = document.documentElement;
      window.onscroll = () => {
        let cHeight = ele.clientHeight;//当前屏幕高度
        let sHeight = ele.scrollHeight;//可滚动区域的高度
        let sTop = ele.scrollTop;//滚动条距离顶部高度
        console.log(cHeight, sHeight, sTop);
        // sHeight = cHeight+sTop;
        if (sHeight - sTop <= cHeight ) {
          this.start += 10;
          this.getData();
        }
      };
    }
    function getData() {
      if (this.dataList.length != this.total) {
        let birdapi = "https://bird.ioliu.cn/v2?url=";
        let urlapi = `https://m.douban.com/rexxar/api/v2/subject_collection/movie_showing/items?start=${this.start}&count=10`;
        axios.get(birdapi + urlapi).then(res => {
            this.total = res.data.total;
          this.dataList = this.dataList.concat(
            res.data.subject_collection_items
          );
        });
      }
    }
        
    </script>
</body>

</html>